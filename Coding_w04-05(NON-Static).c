#include <stdio.h>

void countCall() {
    int counter = 0; // ตัวแปรนี้จะถูกสร้างขึ้นใหม่ทุกครั้งที่ฟังก์ชัน 'countCall' ถูกเรียกใช้งาน
    counter++;       // ค่าของ 'counter' จะเริ่มต้นที่ 0 เสมอ แล้วบวกเพิ่มเป็น 1
    printf("Call function: counter = %d\n", counter);
}

int main() {
    printf("Starting function calls...\n");
    countCall(); // เรียกใช้ครั้งที่ 1
    printf("After first call:\n");
    countCall(); // เรียกใช้ครั้งที่ 2
    return 0;
}

//ผลลัพธ์ที่ได้:
// Starting function calls...
// Call function: counter = 1
// After first call:
// Call function: counter = 1
// เหตุผล: เนื่องจากตัวแปร 'counter' ไม่ได้ประกาศเป็น 'static' มันจึงถูกสร้างขึ้นใหม่และกำหนดค่าเริ่มต้นเป็น 0 ทุกครั้งที่ฟังก์ชัน 'countCall()' ถูกเรียก ทำให้ค่าของมันถูก "รีเซ็ต" ตลอดเวลา และไม่สามารถเก็บค่าจากการเรียกครั้งก่อนหน้าได้
//
//ความแตกต่างของ Non-static (ตัวแปรอัตโนมัติ):
// ตัวแปรชนิด Non-static (หรือ Automatic) จะมีช่วงชีวิตอยู่แค่ภายในบล็อกหรือฟังก์ชันที่มันถูกประกาศเท่านั้น
// มันจะถูก "สร้าง" ขึ้นมาใหม่เมื่อฟังก์ชันเริ่มทำงาน และถูก "ทำลาย" ไปเมื่อฟังก์ชันทำงานเสร็จสิ้น
// ผลลัพธ์คือ ตัวแปรเหล่านี้จะไม่มีความสามารถในการ "จดจำ" ค่าที่เคยมีอยู่ในการเรียกใช้งานฟังก์ชันครั้งก่อนๆ
//
//อภิปราย
// การใช้ตัวแปรแบบ non-static เหมาะสำหรับข้อมูลที่ต้องการเริ่มต้นใหม่ทุกครั้งที่ฟังก์ชันทำงาน เช่น ค่าที่ใช้คำนวณชั่วคราวภายในรอบการทำงานนั้นๆ
// อย่างไรก็ตาม ตัวแปรประเภทนี้ไม่เหมาะกับการนับค่าต่อเนื่อง หรือการเก็บสถานะที่ต้องคงอยู่ข้ามการเรียกฟังก์ชัน
// หากต้องการให้ตัวแปรภายในฟังก์ชันเก็บค่าสะสมหรือคงสถานะไว้ระหว่างการเรียกใช้ ควรพิจารณาใช้ 'static' variable แทน
//
//สรุป
// จากการทดลองนี้ เราได้เห็นความแตกต่างพื้นฐานระหว่างตัวแปรภายในฟังก์ชันที่ถูกประกาศโดยไม่มี 'static' กับตัวแปรที่ใช้ 'static'
// ตัวแปร 'Non-static' จะถูกสร้างขึ้นใหม่และเริ่มต้นค่าใหม่ทุกครั้งที่ฟังก์ชันนั้นถูกเรียก ทำให้มัน "ลืม" ค่าที่เคยมีอยู่ก่อนหน้าไปโดยสิ้นเชิง
// ในทางตรงกันข้าม ถ้าเราต้องการให้ตัวแปรภายในฟังก์ชัน "จดจำ" หรือ "รักษา" ค่าเดิมที่เคยเปลี่ยนแปลงไว้สำหรับการเรียกใช้ครั้งต่อๆ ไป เราจะต้องใช้ Keyword 'static' ในการประกาศ
// การเลือกใช้ชนิดของตัวแปรให้เหมาะสมจึงเป็นสิ่งสำคัญมากในการออกแบบโปรแกรม โดยเฉพาะเมื่อต้องการควบคุมการไหลของข้อมูลและการรักษาข้อมูลระหว่างการทำงานของฟังก์ชันต่างๆ